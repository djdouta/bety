{"version":3,"sources":["components/botonCambiarPagina.js","serviceWorker.js","index.js","container/App.js"],"names":["props","className","onClick","anterior","Icon","pagina","siguiente","Boolean","window","location","hostname","match","ReactDOM","render","useState","columns","title","field","type","lookup","algodon","fibrana","jean","modal","lanilla","corderito","algodon_con_licra","otro","estampado","bordado","data","socket","messages","_id","state","setState","useEffect","getPagina","axios","post","then","response","datosPaginacion","numero_corte","numero","getRow","catch","error","console","log","setPagina","changeTable","put","formartDate","newDate","day","Date","getDate","month","getMonth","year","getFullYear","addRow","newRow","numeros","find","element","undefined","newNumber","push","nuevoArreglo","map","numeroActual","addNewRow","total","hojas","talles","parseInt","estampado_salida","estampado_entrada","taller_salida","taller_entrada","lavadero_salida","lavadero_entrada","reload","editable","onRowAdd","newData","Promise","resolve","setTimeout","onRowUpdate","oldData","indexOf","alert","updateRow","onRowDelete","delete","splice","deleteRow","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.04fc769e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./botonCambiarPagina.css\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\n\r\nexport default function(props) {\r\n  return (\r\n    <div className=\"BotonCambiarPagina\">\r\n      Cambiar PÃ¡gina\r\n      <button onClick={props.anterior}>\r\n        <Icon>chevron_left</Icon>\r\n      </button>\r\n      <span>{props.pagina.pagina}</span>\r\n      <button onClick={props.siguiente}>\r\n        <Icon>chevron_right</Icon>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./container/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { Fragment, useState, useEffect } from \"react\";\nimport MaterialTable from \"material-table\";\nimport BotonCambiarPagina from \"../components/botonCambiarPagina\";\n// import io from \"socket.io-client\";\nimport axios from \"axios\";\nexport default function() {\n  const [state, setState] = useState({\n    columns: [\n      {\n        title: \"NÃºmero de corte\",\n        field: \"numero\",\n        type: \"numeric\"\n      },\n      {\n        title: \"Tela\",\n        field: \"tipo_tela\",\n        lookup: {\n          algodon: \"Algodon\",\n          fibrana: \"Fibrana\",\n          jean: \"Jean\",\n          modal: \"Modal\",\n          lanilla: \"Lanilla\",\n          corderito: \"Corderito\",\n          algodon_con_licra: \"Algodon con licra\",\n          otro: \"otro\"\n        }\n      },\n      {\n        title: \"Modelo\",\n        field: \"modelo\"\n      },\n      { title: \"N hojas encimadas\", field: \"hojas\", type: \"numeric\" },\n      { title: \"talles\", field: \"talles\", type: \"numeric\" },\n      { title: \"Total\", field: \"total\", type: \"numeric\" },\n      {\n        title: \"Aplique\",\n        field: \"aplique\",\n        lookup: {\n          estampado: \"Estampado\",\n          bordado: \"Bordado\"\n        }\n      },\n      {\n        title: \"Salida estampado - Bordado \",\n        field: \"estampado_salida\",\n        type: \"date\"\n      },\n      {\n        title: \"Entrada estampado - Bordado\",\n        field: \"estampado_entrada\",\n        type: \"date\"\n      },\n      {\n        title: \"Despachado al taller por\",\n        field: \"despachado\"\n      },\n      {\n        title: \"Salida taller\",\n        field: \"taller_salida\",\n        type: \"date\"\n      },\n      {\n        title: \"lavadero\",\n        field: \"lavadero\"\n      },\n      { title: \"Entrada taller\", field: \"taller_entrada\", type: \"date\" },\n      { title: \"Salida lavadero\", field: \"lavadero_salida\", type: \"date\" },\n      { title: \"Entrada lavadero\", field: \"lavadero_entrada\", type: \"date\" }\n    ],\n    data: [],\n    socket: \"\",\n    messages: [],\n    pagina: {\n      pagina: 0,\n      _id: \"sinide\"\n    }\n  });\n\n  useEffect(() => {\n    // state.socket = io(\"/\");\n    // state.socket.on(\"message\", message => {\n    //   console.log(state);\n    //   setState({ ...state, message: [...state.messages, message] });\n    // });\n    getPagina();\n  }, []);\n\n  // function enviar(event) {\n  //   const body = \"hola como estas\";\n  //   const message = {\n  //     body,\n  //     from: \"Me\"\n  //   };\n  //   setState({ ...state, messages: [...state.messages, message] });\n  //   state.socket.emit(\"message\", body);\n  //   event.target.value = \"\";\n  // }\n\n  const getPagina = () => {\n    axios\n      .post(\"/getPagina\", {})\n      .then(response => {\n        let datosPaginacion = {\n          pagina: {\n            pagina: response.data[0].pagina,\n            _id: response.data[0]._id\n          },\n          numero_corte: {\n            numero: response.data[1].numero,\n            _id: response.data[1]._id\n          }\n        };\n\n        getRow(datosPaginacion);\n      })\n      .catch(error => {\n        console.log(error);\n        console.log(\"error\");\n      });\n  };\n\n  const anterior = () => {\n    let pagina =\n      state.pagina.pagina === 1\n        ? { ...state.pagina, pagina: 1 }\n        : { ...state.pagina, pagina: state.pagina.pagina - 1 };\n\n    setPagina(pagina);\n  };\n\n  const siguiente = () => {\n    let pagina = { ...state.pagina, pagina: state.pagina.pagina + 1 };\n\n    setPagina(pagina);\n  };\n\n  const setPagina = pagina => {\n    changeTable(pagina.pagina);\n    axios\n      .put(\"/pagina\", {\n        ...pagina\n      })\n      .then(function(response) {})\n      .catch(function(error) {\n        console.log(error);\n      });\n  };\n\n  const formartDate = newDate => {\n    newDate = new Date(newDate);\n    let day = newDate.getDate();\n    let month = newDate.getMonth() + 1;\n    let year = newDate.getFullYear();\n    let fecha = `${month}.${day}.${year}`;\n    return fecha;\n  };\n\n  const numeroActual = () => {\n    let numero = state.numero_corte.numero.find(element => {\n      return element.pagina === state.pagina.pagina;\n    });\n    if (numero === undefined) {\n      let newNumber = state.numero_corte.numero;\n      newNumber.push({\n        numero: 1,\n        pagina: state.pagina.pagina\n      });\n      axios\n        .put(\"/pagina\", {\n          ...state.numero_corte,\n          numero: newNumber\n        })\n        .then(function(response) {})\n        .catch(function(error) {\n          console.log(error);\n        });\n      return {\n        numero_corte: {\n          ...state.numero_corte,\n          numero: newNumber\n        }\n      };\n    } else {\n      if (numero.numero === 50) {\n        let nuevoArreglo = state.numero_corte.numero.map(element => {\n          if (element.pagina === state.pagina.pagina) {\n            return { numero: 1, pagina: element.pagina };\n          } else return element;\n        });\n        axios\n          .put(\"/pagina\", {\n            ...state.numero_corte,\n            numero: nuevoArreglo\n          })\n          .then(function(response) {})\n          .catch(function(error) {\n            console.log(error);\n          });\n        return {\n          numero_corte: {\n            ...state.numero_corte,\n            numero: nuevoArreglo\n          }\n        };\n      } else {\n        let nuevoArreglo = state.numero_corte.numero.map(element => {\n          if (element.pagina === state.pagina.pagina) {\n            return { numero: element.numero + 1, pagina: element.pagina };\n          } else return element;\n        });\n        console.log(nuevoArreglo);\n        axios\n          .put(\"/pagina\", {\n            ...state.numero_corte,\n            numero: nuevoArreglo\n          })\n          .then(function(response) {})\n          .catch(function(error) {\n            console.log(error);\n          });\n        return {\n          numero_corte: {\n            ...state.numero_corte,\n            numero: nuevoArreglo\n          }\n        };\n      }\n    }\n  };\n\n  const addRow = newRow => {\n    let numeros = numeroActual();\n    let valor = numeros.numero_corte.numero.find(element => {\n      return element.pagina === state.pagina.pagina;\n    });\n\n    let addNewRow = {\n      ...newRow,\n      numero: valor.numero,\n      total:\n        newRow.hojas !== undefined && newRow.talles !== undefined\n          ? parseInt(newRow.hojas) * parseInt(newRow.talles)\n          : 0,\n      estampado_salida:\n        newRow.estampado_salida !== undefined\n          ? formartDate(newRow.estampado_salida)\n          : undefined,\n      estampado_entrada:\n        newRow.estampado_entrada !== undefined\n          ? formartDate(newRow.estampado_entrada)\n          : undefined,\n      taller_salida:\n        newRow.taller_salida !== undefined\n          ? formartDate(newRow.taller_salida)\n          : undefined,\n      taller_entrada:\n        newRow.taller_entrada !== undefined\n          ? formartDate(newRow.taller_entrada)\n          : undefined,\n      lavadero_salida:\n        newRow.lavadero_salida !== undefined\n          ? formartDate(newRow.lavadero_salida)\n          : undefined,\n      lavadero_entrada:\n        newRow.lavadero_entrada !== undefined\n          ? formartDate(newRow.lavadero_entrada)\n          : undefined\n    };\n\n    const data = [...state.data];\n    data.push(addNewRow);\n    setState({\n      ...state,\n      data,\n      numero_corte: {\n        ...state.numero_corte,\n        numero: numeros.numero_corte.numero\n      }\n    });\n    axios\n      .post(\"/row\", {\n        ...addNewRow,\n        pagina: state.pagina.pagina\n      })\n      .then(function(response) {\n        window.location.reload();\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  };\n  const getRow = datosPaginacion => {\n    axios\n      .post(\"/getRow\", datosPaginacion.pagina)\n      .then(response => {\n        setState({\n          ...state,\n          data: [...state.data, ...response.data],\n          ...datosPaginacion\n        });\n      })\n      .catch(error => {\n        console.log(\"error\");\n      });\n  };\n\n  const changeTable = pagina => {\n    axios\n      .post(`/getRow`, { pagina: pagina })\n      .then(response => {\n        setState({\n          ...state,\n          data: [...response.data],\n          pagina: { ...state.pagina, pagina: pagina }\n        });\n      })\n      .catch(error => {\n        console.log(\"error\");\n      });\n  };\n\n  const deleteRow = oldData => {\n    axios\n      .delete(`/row/${oldData._id}`, {\n        oldData\n      })\n      .then(response => {\n        const data = [...state.data];\n        data.splice(data.indexOf(oldData), 1);\n        setState({ ...state, data });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n  const updateRow = (newRow, oldData) => {\n    let newData = {\n      ...newRow,\n      total:\n        newRow.hojas !== undefined && newRow.talles !== undefined\n          ? parseInt(newRow.hojas) * parseInt(newRow.talles)\n          : 0,\n      estampado_salida:\n        newRow.estampado_salida !== undefined\n          ? formartDate(newRow.estampado_salida)\n          : undefined,\n      estampado_entrada:\n        newRow.estampado_entrada !== undefined\n          ? formartDate(newRow.estampado_entrada)\n          : undefined,\n      taller_salida:\n        newRow.taller_salida !== undefined\n          ? formartDate(newRow.taller_salida)\n          : undefined,\n      taller_entrada:\n        newRow.taller_entrada !== undefined\n          ? formartDate(newRow.taller_entrada)\n          : undefined,\n      lavadero_salida:\n        newRow.lavadero_salida !== undefined\n          ? formartDate(newRow.lavadero_salida)\n          : undefined,\n      lavadero_entrada:\n        newRow.lavadero_entrada !== undefined\n          ? formartDate(newRow.lavadero_entrada)\n          : undefined\n    };\n\n    const data = [...state.data];\n    data[data.indexOf(oldData)] = newData;\n    setState({ ...state, data });\n    axios\n      .put(\"/row\", newData)\n      .then(response => {\n        console.log(\"holaaa\");\n      })\n      .catch(error => {\n        alert(error);\n      });\n  };\n  return (\n    <Fragment>\n      <BotonCambiarPagina\n        siguiente={siguiente}\n        pagina={state.pagina}\n        anterior={anterior}\n      />\n      <MaterialTable\n        title=\"CONTROL DE PRODUCIÃN\"\n        columns={state.columns}\n        data={state.data}\n        editable={{\n          onRowAdd: newData =>\n            new Promise(resolve => {\n              setTimeout(() => {\n                resolve();\n                addRow(newData);\n              }, 100);\n            }),\n          onRowUpdate: (newData, oldData) =>\n            new Promise(resolve => {\n              setTimeout(() => {\n                resolve();\n                updateRow(newData, oldData);\n              }, 100);\n            }),\n          onRowDelete: oldData =>\n            new Promise(resolve => {\n              setTimeout(() => {\n                resolve();\n                deleteRow(oldData);\n              }, 100);\n            })\n        }}\n      />\n    </Fragment>\n  );\n}\n"],"sourceRoot":""}
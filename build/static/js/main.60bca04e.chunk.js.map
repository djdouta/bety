{"version":3,"sources":["components/botonCambiarPagina.js","serviceWorker.js","index.js","container/App.js"],"names":["props","className","onClick","anterior","Icon","pagina","siguiente","Boolean","window","location","hostname","match","ReactDOM","render","useState","columns","title","field","type","lookup","algodon","fibrana","jean","modal","lanilla","corderito","algodon_con_licra","otro","estampado","bordado","aplique","data","socket","messages","_id","state","setState","useEffect","getPagina","axios","post","then","response","datosPaginacion","numero_corte","numero","getRow","catch","error","console","log","setPagina","changeTable","put","formartDate","newDate","day","Date","getDate","month","getMonth","year","getFullYear","editable","onRowAdd","newData","Promise","resolve","setTimeout","newRow","addNewRow","total","undefined","hojas","talles","parseInt","estampado_salida","estampado_entrada","taller_salida","taller_entrada","lavadero_salida","lavadero_entrada","push","reload","addRow","onRowUpdate","oldData","fecha_corte","indexOf","alert","updateRow","onRowDelete","delete","splice","deleteRow","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.60bca04e.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./botonCambiarPagina.css\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\n\r\nexport default function(props) {\r\n  return (\r\n    <div className=\"BotonCambiarPagina\">\r\n      Cambiar Página\r\n      <button onClick={props.anterior}>\r\n        <Icon>chevron_left</Icon>\r\n      </button>\r\n      <span>{props.pagina.pagina}</span>\r\n      <button onClick={props.siguiente}>\r\n        <Icon>chevron_right</Icon>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./container/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React, { Fragment, useState, useEffect } from \"react\";\nimport MaterialTable from \"material-table\";\nimport BotonCambiarPagina from \"../components/botonCambiarPagina\";\n// import io from \"socket.io-client\";\nimport axios from \"axios\";\nexport default function() {\n  const [state, setState] = useState({\n    columns: [\n      {\n        title: \"Fecha de corte\",\n        field: \"fecha_corte\",\n        type: \"date\"\n      },\n\n      {\n        title: \"Tela\",\n        field: \"tipo_tela\",\n        lookup: {\n          algodon: \"Algodon\",\n          fibrana: \"Fibrana\",\n          jean: \"Jean\",\n          modal: \"Modal\",\n          lanilla: \"Lanilla\",\n          corderito: \"Corderito\",\n          algodon_con_licra: \"Algodon con licra\",\n          otro: \"otro\"\n        }\n      },\n      {\n        title: \"Modelo\",\n        field: \"modelo\"\n      },\n      {\n        title: \"Número de corte\",\n        field: \"numero\",\n        type: \"numeric\"\n      },\n      { title: \"N hojas encimadas\", field: \"hojas\", type: \"numeric\" },\n      { title: \"talles\", field: \"talles\", type: \"numeric\" },\n      { title: \"Total\", field: \"total\", type: \"numeric\" },\n      {\n        title: \"tipos de aplique\",\n        field: \"aplique\",\n        lookup: {\n          estampado: \"Estampado\",\n          bordado: \"Bordado\",\n          aplique: \"Aplique\"\n        }\n      },\n      {\n        title: \"Salida estampado - Bordado \",\n        field: \"estampado_salida\",\n        type: \"date\"\n      },\n      {\n        title: \"Entrada estampado - Bordado\",\n        field: \"estampado_entrada\",\n        type: \"date\"\n      },\n      {\n        title: \"Taller\",\n        field: \"despachado\"\n      },\n      {\n        title: \"Despachado al taller por\",\n        field: \"taller\"\n      },\n\n      {\n        title: \"Salida taller\",\n        field: \"taller_salida\",\n        type: \"date\"\n      },\n      {\n        title: \"lavadero\",\n        field: \"lavadero\"\n      },\n      { title: \"Entrada taller\", field: \"taller_entrada\", type: \"date\" },\n      { title: \"Salida lavadero\", field: \"lavadero_salida\", type: \"date\" },\n      { title: \"Entrada lavadero\", field: \"lavadero_entrada\", type: \"date\" }\n    ],\n    data: [],\n    socket: \"\",\n    messages: [],\n    pagina: {\n      pagina: 0,\n      _id: \"sinide\"\n    }\n  });\n\n  useEffect(() => {\n    // state.socket = io(\"/\");\n    // state.socket.on(\"message\", message => {\n    //   console.log(state);\n    //   setState({ ...state, message: [...state.messages, message] });\n    // });\n    getPagina();\n  }, []);\n\n  // function enviar(event) {\n  //   const body = \"hola como estas\";\n  //   const message = {\n  //     body,\n  //     from: \"Me\"\n  //   };\n  //   setState({ ...state, messages: [...state.messages, message] });\n  //   state.socket.emit(\"message\", body);\n  //   event.target.value = \"\";\n  // }\n\n  const getPagina = () => {\n    axios\n      .post(\"/getPagina\", {})\n      .then(response => {\n        let datosPaginacion = {\n          pagina: {\n            pagina: response.data[0].pagina,\n            _id: response.data[0]._id\n          },\n          numero_corte: {\n            numero: response.data[1].numero,\n            _id: response.data[1]._id\n          }\n        };\n\n        getRow(datosPaginacion);\n      })\n      .catch(error => {\n        console.log(error);\n        console.log(\"error\");\n      });\n  };\n\n  const anterior = () => {\n    let pagina =\n      state.pagina.pagina === 1\n        ? { ...state.pagina, pagina: 1 }\n        : { ...state.pagina, pagina: state.pagina.pagina - 1 };\n\n    setPagina(pagina);\n  };\n\n  const siguiente = () => {\n    let pagina = { ...state.pagina, pagina: state.pagina.pagina + 1 };\n\n    setPagina(pagina);\n  };\n\n  const setPagina = pagina => {\n    changeTable(pagina.pagina);\n    axios\n      .put(\"/pagina\", {\n        ...pagina\n      })\n      .then(function(response) {})\n      .catch(function(error) {\n        console.log(error);\n      });\n  };\n\n  const formartDate = newDate => {\n    newDate = new Date(newDate);\n    let day = newDate.getDate();\n    let month = newDate.getMonth() + 1;\n    let year = newDate.getFullYear();\n    let fecha = `${month}.${day}.${year}`;\n    return fecha;\n  };\n\n  // const numeroActual = () => {\n  //   let numero = state.numero_corte.numero.find(element => {\n  //     return element.pagina === state.pagina.pagina;\n  //   });\n  //   if (numero === undefined) {\n  //     let newNumber = state.numero_corte.numero;\n  //     newNumber.push({\n  //       numero: 1,\n  //       pagina: state.pagina.pagina\n  //     });\n  //     axios\n  //       .put(\"/pagina\", {\n  //         ...state.numero_corte,\n  //         numero: newNumber\n  //       })\n  //       .then(function(response) {})\n  //       .catch(function(error) {\n  //         console.log(error);\n  //       });\n  //     return {\n  //       numero_corte: {\n  //         ...state.numero_corte,\n  //         numero: newNumber\n  //       }\n  //     };\n  //   } else {\n  //     if (numero.numero === 50) {\n  //       let nuevoArreglo = state.numero_corte.numero.map(element => {\n  //         if (element.pagina === state.pagina.pagina) {\n  //           return { numero: 1, pagina: element.pagina };\n  //         } else return element;\n  //       });\n  //       axios\n  //         .put(\"/pagina\", {\n  //           ...state.numero_corte,\n  //           numero: nuevoArreglo\n  //         })\n  //         .then(function(response) {})\n  //         .catch(function(error) {\n  //           console.log(error);\n  //         });\n  //       return {\n  //         numero_corte: {\n  //           ...state.numero_corte,\n  //           numero: nuevoArreglo\n  //         }\n  //       };\n  //     } else {\n  //       let nuevoArreglo = state.numero_corte.numero.map(element => {\n  //         if (element.pagina === state.pagina.pagina) {\n  //           return { numero: element.numero + 1, pagina: element.pagina };\n  //         } else return element;\n  //       });\n  //       console.log(nuevoArreglo);\n  //       axios\n  //         .put(\"/pagina\", {\n  //           ...state.numero_corte,\n  //           numero: nuevoArreglo\n  //         })\n  //         .then(function(response) {})\n  //         .catch(function(error) {\n  //           console.log(error);\n  //         });\n  //       return {\n  //         numero_corte: {\n  //           ...state.numero_corte,\n  //           numero: nuevoArreglo\n  //         }\n  //       };\n  //     }\n  //   }\n  // };\n\n  const addRow = newRow => {\n    // let numeros = numeroActual();\n    // let valor = numeros.numero_corte.numero.find(element => {\n    //   return element.pagina === state.pagina.pagina;\n    // });\n\n    let addNewRow = {\n      ...newRow,\n      total:\n        newRow.hojas !== undefined && newRow.talles !== undefined\n          ? parseInt(newRow.hojas) * parseInt(newRow.talles)\n          : 0,\n      estampado_salida:\n        newRow.estampado_salida !== undefined\n          ? formartDate(newRow.estampado_salida)\n          : undefined,\n      estampado_entrada:\n        newRow.estampado_entrada !== undefined\n          ? formartDate(newRow.estampado_entrada)\n          : undefined,\n      taller_salida:\n        newRow.taller_salida !== undefined\n          ? formartDate(newRow.taller_salida)\n          : undefined,\n      taller_entrada:\n        newRow.taller_entrada !== undefined\n          ? formartDate(newRow.taller_entrada)\n          : undefined,\n      lavadero_salida:\n        newRow.lavadero_salida !== undefined\n          ? formartDate(newRow.lavadero_salida)\n          : undefined,\n      lavadero_entrada:\n        newRow.lavadero_entrada !== undefined\n          ? formartDate(newRow.lavadero_entrada)\n          : undefined\n    };\n\n    const data = [...state.data];\n    data.push(addNewRow);\n    setState({\n      ...state,\n      data,\n      numero_corte: {\n        ...state.numero_corte,\n        numero: newRow.numero\n      }\n    });\n    axios\n      .post(\"/row\", {\n        ...addNewRow,\n        pagina: state.pagina.pagina\n      })\n      .then(function(response) {\n        window.location.reload();\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  };\n  const getRow = datosPaginacion => {\n    axios\n      .post(\"/getRow\", datosPaginacion.pagina)\n      .then(response => {\n        setState({\n          ...state,\n          data: [...state.data, ...response.data],\n          ...datosPaginacion\n        });\n      })\n      .catch(error => {\n        console.log(\"error\");\n      });\n  };\n\n  const changeTable = pagina => {\n    axios\n      .post(`/getRow`, { pagina: pagina })\n      .then(response => {\n        setState({\n          ...state,\n          data: [...response.data],\n          pagina: { ...state.pagina, pagina: pagina }\n        });\n      })\n      .catch(error => {\n        console.log(\"error\");\n      });\n  };\n\n  const deleteRow = oldData => {\n    axios\n      .delete(`/row/${oldData._id}`, {\n        oldData\n      })\n      .then(response => {\n        const data = [...state.data];\n        data.splice(data.indexOf(oldData), 1);\n        setState({ ...state, data });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n  const updateRow = (newRow, oldData) => {\n    let newData = {\n      ...newRow,\n      total:\n        newRow.hojas !== undefined && newRow.talles !== undefined\n          ? parseInt(newRow.hojas) * parseInt(newRow.talles)\n          : 0,\n      fecha_corte:\n        newRow.fecha_corte !== undefined\n          ? formartDate(newRow.fecha_corte)\n          : undefined,\n      estampado_salida:\n        newRow.estampado_salida !== undefined\n          ? formartDate(newRow.estampado_salida)\n          : undefined,\n      estampado_entrada:\n        newRow.estampado_entrada !== undefined\n          ? formartDate(newRow.estampado_entrada)\n          : undefined,\n      taller_salida:\n        newRow.taller_salida !== undefined\n          ? formartDate(newRow.taller_salida)\n          : undefined,\n      taller_entrada:\n        newRow.taller_entrada !== undefined\n          ? formartDate(newRow.taller_entrada)\n          : undefined,\n      lavadero_salida:\n        newRow.lavadero_salida !== undefined\n          ? formartDate(newRow.lavadero_salida)\n          : undefined,\n      lavadero_entrada:\n        newRow.lavadero_entrada !== undefined\n          ? formartDate(newRow.lavadero_entrada)\n          : undefined\n    };\n\n    const data = [...state.data];\n    data[data.indexOf(oldData)] = newData;\n    setState({ ...state, data });\n    axios\n      .put(\"/row\", newData)\n      .then(response => {\n        console.log(\"holaaa\");\n      })\n      .catch(error => {\n        alert(error);\n      });\n  };\n  return (\n    <Fragment>\n      <BotonCambiarPagina\n        siguiente={siguiente}\n        pagina={state.pagina}\n        anterior={anterior}\n      />\n      <MaterialTable\n        title=\"CONTROL DE PRODUCIÓN\"\n        columns={state.columns}\n        data={state.data}\n        editable={{\n          onRowAdd: newData =>\n            new Promise(resolve => {\n              setTimeout(() => {\n                resolve();\n                addRow(newData);\n              }, 100);\n            }),\n          onRowUpdate: (newData, oldData) =>\n            new Promise(resolve => {\n              setTimeout(() => {\n                resolve();\n                updateRow(newData, oldData);\n              }, 100);\n            }),\n          onRowDelete: oldData =>\n            new Promise(resolve => {\n              setTimeout(() => {\n                resolve();\n                deleteRow(oldData);\n              }, 100);\n            })\n        }}\n      />\n    </Fragment>\n  );\n}\n"],"sourceRoot":""}
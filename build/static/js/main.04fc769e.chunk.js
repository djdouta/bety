(window.webpackJsonpmultifarica=window.webpackJsonpmultifarica||[]).push([[0],{197:function(a,e,t){a.exports=t(311)},202:function(a,e,t){},292:function(a,e,t){},311:function(a,e,t){"use strict";t.r(e);var n=t(0),o=t.n(n),r=t(13),i=t.n(r),l=(t(202),t(20)),d=t(9),c=t(37),u=t(171),p=t.n(u),s=(t(292),t(136)),m=function(a){return o.a.createElement("div",{className:"BotonCambiarPagina"},"Cambiar P\xe1gina",o.a.createElement("button",{onClick:a.anterior},o.a.createElement(s.a,null,"chevron_left")),o.a.createElement("span",null,a.pagina.pagina),o.a.createElement("button",{onClick:a.siguiente},o.a.createElement(s.a,null,"chevron_right")))},g=t(45),f=t.n(g);function v(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,n)}return t}function _(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?v(t,!0).forEach((function(e){Object(d.a)(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):v(t).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement((function(){var a=Object(n.useState)({columns:[{title:"N\xfamero de corte",field:"numero",type:"numeric"},{title:"Tela",field:"tipo_tela",lookup:{algodon:"Algodon",fibrana:"Fibrana",jean:"Jean",modal:"Modal",lanilla:"Lanilla",corderito:"Corderito",algodon_con_licra:"Algodon con licra",otro:"otro"}},{title:"Modelo",field:"modelo"},{title:"N hojas encimadas",field:"hojas",type:"numeric"},{title:"talles",field:"talles",type:"numeric"},{title:"Total",field:"total",type:"numeric"},{title:"Aplique",field:"aplique",lookup:{estampado:"Estampado",bordado:"Bordado"}},{title:"Salida estampado - Bordado ",field:"estampado_salida",type:"date"},{title:"Entrada estampado - Bordado",field:"estampado_entrada",type:"date"},{title:"Despachado al taller por",field:"despachado"},{title:"Salida taller",field:"taller_salida",type:"date"},{title:"lavadero",field:"lavadero"},{title:"Entrada taller",field:"taller_entrada",type:"date"},{title:"Salida lavadero",field:"lavadero_salida",type:"date"},{title:"Entrada lavadero",field:"lavadero_entrada",type:"date"}],data:[],socket:"",messages:[],pagina:{pagina:0,_id:"sinide"}}),e=Object(c.a)(a,2),t=e[0],r=e[1];Object(n.useEffect)((function(){i()}),[]);var i=function(){f.a.post("/getPagina",{}).then((function(a){var e={pagina:{pagina:a.data[0].pagina,_id:a.data[0]._id},numero_corte:{numero:a.data[1].numero,_id:a.data[1]._id}};g(e)})).catch((function(a){console.log(a),console.log("error")}))},d=function(a){v(a.pagina),f.a.put("/pagina",_({},a)).then((function(a){})).catch((function(a){console.log(a)}))},u=function(a){var e=(a=new Date(a)).getDate(),t=a.getMonth()+1,n=a.getFullYear();return"".concat(t,".").concat(e,".").concat(n)},s=function(a){var e=function(){var a=t.numero_corte.numero.find((function(a){return a.pagina===t.pagina.pagina}));if(void 0===a){var e=t.numero_corte.numero;return e.push({numero:1,pagina:t.pagina.pagina}),f.a.put("/pagina",_({},t.numero_corte,{numero:e})).then((function(a){})).catch((function(a){console.log(a)})),{numero_corte:_({},t.numero_corte,{numero:e})}}if(50===a.numero){var n=t.numero_corte.numero.map((function(a){return a.pagina===t.pagina.pagina?{numero:1,pagina:a.pagina}:a}));return f.a.put("/pagina",_({},t.numero_corte,{numero:n})).then((function(a){})).catch((function(a){console.log(a)})),{numero_corte:_({},t.numero_corte,{numero:n})}}var o=t.numero_corte.numero.map((function(a){return a.pagina===t.pagina.pagina?{numero:a.numero+1,pagina:a.pagina}:a}));return console.log(o),f.a.put("/pagina",_({},t.numero_corte,{numero:o})).then((function(a){})).catch((function(a){console.log(a)})),{numero_corte:_({},t.numero_corte,{numero:o})}}(),n=_({},a,{numero:e.numero_corte.numero.find((function(a){return a.pagina===t.pagina.pagina})).numero,total:void 0!==a.hojas&&void 0!==a.talles?parseInt(a.hojas)*parseInt(a.talles):0,estampado_salida:void 0!==a.estampado_salida?u(a.estampado_salida):void 0,estampado_entrada:void 0!==a.estampado_entrada?u(a.estampado_entrada):void 0,taller_salida:void 0!==a.taller_salida?u(a.taller_salida):void 0,taller_entrada:void 0!==a.taller_entrada?u(a.taller_entrada):void 0,lavadero_salida:void 0!==a.lavadero_salida?u(a.lavadero_salida):void 0,lavadero_entrada:void 0!==a.lavadero_entrada?u(a.lavadero_entrada):void 0}),o=Object(l.a)(t.data);o.push(n),r(_({},t,{data:o,numero_corte:_({},t.numero_corte,{numero:e.numero_corte.numero})})),f.a.post("/row",_({},n,{pagina:t.pagina.pagina})).then((function(a){window.location.reload()})).catch((function(a){console.log(a)}))},g=function(a){f.a.post("/getRow",a.pagina).then((function(e){r(_({},t,{data:[].concat(Object(l.a)(t.data),Object(l.a)(e.data))},a))})).catch((function(a){console.log("error")}))},v=function(a){f.a.post("/getRow",{pagina:a}).then((function(e){r(_({},t,{data:Object(l.a)(e.data),pagina:_({},t.pagina,{pagina:a})}))})).catch((function(a){console.log("error")}))};return o.a.createElement(n.Fragment,null,o.a.createElement(m,{siguiente:function(){var a=_({},t.pagina,{pagina:t.pagina.pagina+1});d(a)},pagina:t.pagina,anterior:function(){var a=1===t.pagina.pagina?_({},t.pagina,{pagina:1}):_({},t.pagina,{pagina:t.pagina.pagina-1});d(a)}}),o.a.createElement(p.a,{title:"CONTROL DE PRODUCI\xd3N",columns:t.columns,data:t.data,editable:{onRowAdd:function(a){return new Promise((function(e){setTimeout((function(){e(),s(a)}),100)}))},onRowUpdate:function(a,e){return new Promise((function(n){setTimeout((function(){n(),function(a,e){var n=_({},a,{total:void 0!==a.hojas&&void 0!==a.talles?parseInt(a.hojas)*parseInt(a.talles):0,estampado_salida:void 0!==a.estampado_salida?u(a.estampado_salida):void 0,estampado_entrada:void 0!==a.estampado_entrada?u(a.estampado_entrada):void 0,taller_salida:void 0!==a.taller_salida?u(a.taller_salida):void 0,taller_entrada:void 0!==a.taller_entrada?u(a.taller_entrada):void 0,lavadero_salida:void 0!==a.lavadero_salida?u(a.lavadero_salida):void 0,lavadero_entrada:void 0!==a.lavadero_entrada?u(a.lavadero_entrada):void 0}),o=Object(l.a)(t.data);o[o.indexOf(e)]=n,r(_({},t,{data:o})),f.a.put("/row",n).then((function(a){console.log("holaaa")})).catch((function(a){alert(a)}))}(a,e)}),100)}))},onRowDelete:function(a){return new Promise((function(e){setTimeout((function(){e(),function(a){f.a.delete("/row/".concat(a._id),{oldData:a}).then((function(e){var n=Object(l.a)(t.data);n.splice(n.indexOf(a),1),r(_({},t,{data:n}))})).catch((function(a){console.log(a)}))}(a)}),100)}))}}}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()}))}},[[197,1,2]]]);
//# sourceMappingURL=main.04fc769e.chunk.js.map